"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[640],{3640:(r,e,s)=>{s.r(e),s.d(e,{default:()=>f});var t=function(){var r=this,e=r._self._c;return e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[r._v("Login")]),e("b-form",{on:{submit:function(e){return e.preventDefault(),r.onLogin.apply(null,arguments)}}},[e("b-form-group",{attrs:{id:"input-group-username","label-cols-sm":"3",label:"Username:","label-for":"username"}},[e("b-form-input",{attrs:{id:"username",type:"text",state:r.validateState("username")},model:{value:r.$v.form.username.$model,callback:function(e){r.$set(r.$v.form.username,"$model",e)},expression:"$v.form.username.$model"}}),r.$v.form.username.required?r._e():e("b-form-invalid-feedback",[r._v("Username is required")])],1),e("b-form-group",{attrs:{id:"input-group-password","label-cols-sm":"3",label:"Password:","label-for":"password"}},[e("b-form-input",{attrs:{id:"password",type:"password",state:r.validateState("password")},model:{value:r.$v.form.password.$model,callback:function(e){r.$set(r.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),r.$v.form.password.required?r._e():e("b-form-invalid-feedback",[r._v("Password is required")])],1),e("b-button",{staticClass:"w-100",attrs:{type:"submit",variant:"primary"}},[r._v("Login")]),e("div",{staticClass:"mt-2"},[r._v(" Do not have an account yet? "),e("router-link",{attrs:{to:"register"}},[r._v("Register here")])],1)],1),r.form.submitError?e("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[r._v(" Login failed: "+r._s(r.form.submitError)+" ")]):r._e()],1)},a=[],o=s(459),n=s(388),i=(s(6280),s(6918),s(4114),s(3278)),u=s(3484);const m={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:i.mw},password:{required:i.mw}}},methods:{validateState:function(r){var e=this.$v.form[r],s=e.$dirty,t=e.$error;return s?!t:null},Login:function(){var r=this;return(0,n.A)((0,o.A)().mark((function e(){var s;return(0,o.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s=(0,u.yy)(r.form.username,r.form.password),!s.response.data.success){e.next=7;break}r.$root.store.login(r.form.username),r.$router.push("/"),e.next=8;break;case 7:throw new Error(s.message||"Login failed");case 8:e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0.message),r.form.submitError=e.t0.message;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$root.toast("Login","User logged in successfully","success"),this.$v.form.$anyError||this.Login()}}},l=m;var d=s(1656),c=(0,d.A)(l,t,a,!1,null,"7a76c942",null);const f=c.exports}}]);
//# sourceMappingURL=640.185a3c60.js.map